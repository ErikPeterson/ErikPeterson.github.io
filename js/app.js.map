{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","js/app.js","js/esp.js","js/smoothScroll.js","node_modules/domready/ready.js","node_modules/qwery/qwery.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var ESP = require('./esp.js');\n\nrequire('domready')(function(){\n    ESP.initialize();\n});","var $ = 'querySelectorAll' in document ? function(selector){ return Array.prototype.slice.call(document.querySelectorAll(selector));} : require('qwery');\nvar smoothScroll = require('./smoothScroll.js');\n\nvar ESP = {\n    initialize: function(){\n        var path = window.location.search === \"\" ? window.location.pathname : window.location.search.replace(/^\\?route=/,'/');\n        this.scrolling = false;\n        this.els = {};\n        this.menubar = $('header')[0];\n        this.bindHistory();\n        this.captureLinks();\n        this.bindEmail();\n        if (window.history.state && window.history.state.path) return this.route(window.history.state.path)\n        this.route(path);\n    },\n    captureLinks: function(){\n        var that = this;\n        var $links = $('a');\n        $links.forEach(this.bindLink.bind(this));\n        \n    },\n    bindLink: function(a){\n        var that = this;\n        var host = a.host || window.location.host;\n        var path = a.pathname;\n\n        a.addEventListener('click', function(e){\n            if(window.location.host !== host) return;\n            e.preventDefault();\n            window.history.pushState({path: path}, '', path);\n\n            that.route(path);\n        }, true);\n    },\n    bindHistory: function(){\n        var that = this;\n\n        window.addEventListener('popstate', function(e){\n            var path = (e.state && e.state.path) ? e.state.path : '/';\n\n            that.route(path);\n        });\n    },\n    bindEmail: function(){\n        var emailEl = $('.email-handle')[0];\n        var listener = function(e){\n            emailEl.innerHTML = \"<a href='mailto:eriksalgstrom@gmail.com'>eriksalgstrom@gmail.com</a>\";\n            emailEl.removeEventListener('click', listener);\n        };\n\n        emailEl.addEventListener('click', listener);\n    },\n    route: function(path){\n        var action = path.replace(/^\\//,'');\n            action = (action === '') ? 'index' : action;\n        if(!this.scrolling) this[action]();\n    },\n    index: function(){\n        this.els.index = this.els.index || $('body')[0];\n        this._startScroll();\n        smoothScroll(this.els.index, this.menubar.getBoundingClientRect().height, this._endScroll.bind(this));\n    },\n    about: function(){\n        this.els.about = this.els.about || $('section[data-section-id=\"about\"]')[0];\n        this._startScroll();\n        smoothScroll(this.els.about, this.menubar.getBoundingClientRect().height, this._endScroll.bind(this));\n    },\n    work: function(){\n        this.els.work = this.els.work || $('section[data-section-id=\"work\"]')[0];\n        this._startScroll();\n        smoothScroll(this.els.work, this.menubar.getBoundingClientRect().height, this._endScroll.bind(this));\n    },\n    contact: function(){\n        this.els.contact = this.els.contact || $('section[data-section-id=\"contact\"]')[0];\n        this._startScroll();\n        smoothScroll(this.els.contact, this.menubar.getBoundingClientRect().height, this._endScroll.bind(this));\n    },\n    _startScroll: function(){\n        console.log('calling start scroll');\n        this.scrolling = true;\n    },\n    _endScroll: function(){\n        console.log('calling end scroll');\n        this.scrolling = false;\n    }\n};\n\nmodule.exports = ESP;","var getOffset = function(elem){\n    var box = elem.getBoundingClientRect();\n    var docEl = document.documentElement;\n\n    return box.top;\n};\n\nvar scrolledTop = function(){\n    return window.pageYOffset === 0;\n};\n\nvar scrolledBottom = function(){\n    return window.innerHeight + window.scrollY >= document.body.offsetHeight;\n};\n\nvar scroll = function(elem, space, cb){\n    var offset = getOffset(elem);\n    space = space || 0;\n    //case where offset is positive\n\n    if(offset > 0){\n        offset -= space;\n        if(scrolledBottom()) return cb ? cb() : true;\n        if(offset === 0) return cb ? cb() : true;\n        if(offset < 5){window.scrollBy(0, offset); return cb ? cb() : true;};\n    } else {\n        offset -= space;\n        if(scrolledTop()) return cb ? cb() : true;\n        if(offset === 0) return cb ? cb() : true;\n        if(offset > -5) {window.scrollBy(0, offset); return cb ? cb() : true;};\n    }\n\n    var distance = offset / 15;\n    \n    window.scrollBy(0, distance);\n    \n    window.requestAnimationFrame(function(){\n        window.setTimeout(function(){\n            scroll(elem, space, cb);\n        }, (1000/60));\n    });\n};\n\nmodule.exports = scroll;","/*!\n  * domready (c) Dustin Diaz 2014 - License MIT\n  */\n!function (name, definition) {\n\n  if (typeof module != 'undefined') module.exports = definition()\n  else if (typeof define == 'function' && typeof define.amd == 'object') define(definition)\n  else this[name] = definition()\n\n}('domready', function () {\n\n  var fns = [], listener\n    , doc = document\n    , hack = doc.documentElement.doScroll\n    , domContentLoaded = 'DOMContentLoaded'\n    , loaded = (hack ? /^loaded|^c/ : /^loaded|^i|^c/).test(doc.readyState)\n\n\n  if (!loaded)\n  doc.addEventListener(domContentLoaded, listener = function () {\n    doc.removeEventListener(domContentLoaded, listener)\n    loaded = 1\n    while (listener = fns.shift()) listener()\n  })\n\n  return function (fn) {\n    loaded ? fn() : fns.push(fn)\n  }\n\n});\n","/*!\n  * @preserve Qwery - A selector engine\n  * https://github.com/ded/qwery\n  * (c) Dustin Diaz 2014 | License MIT\n  */\n\n(function (name, context, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(definition)\n  else context[name] = definition()\n})('qwery', this, function () {\n\n  var classOnly = /^\\.([\\w\\-]+)$/\n    , doc = document\n    , win = window\n    , html = doc.documentElement\n    , nodeType = 'nodeType'\n  var isAncestor = 'compareDocumentPosition' in html ?\n    function (element, container) {\n      return (container.compareDocumentPosition(element) & 16) == 16\n    } :\n    function (element, container) {\n      container = container == doc || container == window ? html : container\n      return container !== element && container.contains(element)\n    }\n\n  function toArray(ar) {\n    return [].slice.call(ar, 0)\n  }\n\n  function isNode(el) {\n    var t\n    return el && typeof el === 'object' && (t = el.nodeType) && (t == 1 || t == 9)\n  }\n\n  function arrayLike(o) {\n    return (typeof o === 'object' && isFinite(o.length))\n  }\n\n  function flatten(ar) {\n    for (var r = [], i = 0, l = ar.length; i < l; ++i) arrayLike(ar[i]) ? (r = r.concat(ar[i])) : (r[r.length] = ar[i])\n    return r\n  }\n\n  function uniq(ar) {\n    var a = [], i, j\n    label:\n    for (i = 0; i < ar.length; i++) {\n      for (j = 0; j < a.length; j++) {\n        if (a[j] == ar[i]) {\n          continue label\n        }\n      }\n      a[a.length] = ar[i]\n    }\n    return a\n  }\n\n\n  function normalizeRoot(root) {\n    if (!root) return doc\n    if (typeof root == 'string') return qwery(root)[0]\n    if (!root[nodeType] && arrayLike(root)) return root[0]\n    return root\n  }\n\n  /**\n   * @param {string|Array.<Element>|Element|Node} selector\n   * @param {string|Array.<Element>|Element|Node=} opt_root\n   * @return {Array.<Element>}\n   */\n  function qwery(selector, opt_root) {\n    var m, root = normalizeRoot(opt_root)\n    if (!root || !selector) return []\n    if (selector === win || isNode(selector)) {\n      return !opt_root || (selector !== win && isNode(root) && isAncestor(selector, root)) ? [selector] : []\n    }\n    if (selector && arrayLike(selector)) return flatten(selector)\n\n\n    if (doc.getElementsByClassName && selector == 'string' && (m = selector.match(classOnly))) {\n      return toArray((root).getElementsByClassName(m[1]))\n    }\n    // using duck typing for 'a' window or 'a' document (not 'the' window || document)\n    if (selector && (selector.document || (selector.nodeType && selector.nodeType == 9))) {\n      return !opt_root ? [selector] : []\n    }\n    return toArray((root).querySelectorAll(selector))\n  }\n\n  qwery.uniq = uniq\n\n  return qwery\n}, this);\n"],"sourceRoot":"/source/"}